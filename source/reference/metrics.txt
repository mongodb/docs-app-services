.. _app-services-metrics:

==============================
App Services Metrics Reference
==============================

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 2
   :class: singlecol

App Services provides a variety of metrics related to App Services and Device
Sync. You can access your metrics data with the Admin API's
:admin-api-endpoint:`getMetrics <tag/metrics/operation/adminGetMetrics>` endpoint.

.. Source derived from https://docs.google.com/spreadsheets/d/1cjQopjPUsEKde6TlqO38B0Ko6n4vTwl4tgJ-LHSbf7Y/edit#gid=1354315462

Units
-----

App Services expresses each metric in one of the following units:

- BYTES_PER_SECOND
- MILLISECONDS
- SCALAR
- SCALAR_PER_SECOND (that is, a count over time)

A **scalar** is a singular value representing a magnitude or "count". Its exact
interpretation depends on the metric.

Available Metrics
-----------------

.. list-table::
   :header-rows: 1

  * - Metric Name
    - Unit
    - Description

  * - ACTIVE_OPEN_SYNC_SESSIONS
    - SCALAR
    - Active open sync sessions.

  * - AUTH_EGRESS_BYTES
    - BYTES_PER_SECOND
    - The amount of data transferred from the server due to
      authentication requests.

  * - AUTH_FAILED_REQUESTS
    - SCALAR_PER_SECOND
    - Total failed authentication requests.

  * - AUTH_RESPONSE_MS
    - MILLISECONDS
    - 95th percentile [#f1]_ authentication response time.

  * - AUTH_SUCCESSFUL_LOGIN
    - SCALAR_PER_SECOND
    - Total successful logins.

  * - AUTH_SUCCESSFUL_REQUESTS
    - SCALAR_PER_SECOND
    - Total successful authentication requests.

  * - AUTH_TOTAL_USERS
    - SCALAR
    - Authentication Users (Total)

  * - ENDPOINTS_COMPUTE_MS
    - SCALAR_PER_SECOND
    - Endpoints Total Compute

  * - ENDPOINTS_EGRESS_BYTES
    - BYTES_PER_SECOND
    - The amount of data transferred from the server due to endpoints
      requests.

  * - ENDPOINTS_FAILED_REQUEST
    - SCALAR_PER_SECOND
    - Total failed endpoints requests.

  * - ENDPOINTS_RESPONSE_MS
    - MILLISECONDS
    - 95th percentile [#f1]_ endpoint response time.

  * - ENDPOINTS_SUCCESSFUL_REQUESTS
    - SCALAR_PER_SECOND
    - Total successful endpoint requests.

  * - GQL_RESPONSE_MS
    - MILLISECONDS
    - 95th percentile [#f1]_ GraphQL response time.

  * - GRAPH_QL_COMPUTE_MS
    - SCALAR_PER_SECOND
    - Total compute time for GraphQL.

  * - GRAPH_QL_EGRESS_BYTES
    - BYTES_PER_SECOND
    - The amount of data transferred from the server for GraphQL.

  * - GRAPH_QL_FAILED_REQUESTS
    - SCALAR_PER_SECOND
    - Total failed GraphQL requests.

  * - GRAPH_QL_SUCCESSFUL_REQUESTS
    - SCALAR_PER_SECOND
    - Total successful GraphQL requests.

  * - LF_RESPONSE_MS
    - MILLISECONDS
    - 95th percentile [#f1]_ Log Forwarder (LF) response time.

  * - OVERALL_COMPUTE_MS
    - SCALAR_PER_SECOND
    - Overall total compute time.

  * - OVERALL_EGRESS_BYTES
    - BYTES_PER_SECOND
    - The amount of data transferred from the server overall.

  * - OVERALL_FAILED_REQUESTS
    - SCALAR_PER_SECOND
    - Overall total failed requests.

  * - OVERALL_SUCCESSFUL_REQUESTS
    - SCALAR_PER_SECOND
    - Overall total successful requests.

  * - OVERALL_SYNC_MINUTES
    - SCALAR_PER_SECOND
    - Overall sync minutes.

  * - SDK_COMPUTE_MS
    - SCALAR_PER_SECOND
    - Total compute time spent in client SDK functions calls.

  * - SDK_EGRESS_BYTES
    - BYTES_PER_SECOND
    - The amount of data transferred from the server due to SDK functions calls.

  * - SDK_FAILED_REQUESTS
    - SCALAR_PER_SECOND
    - Total failed function call requests from client SDKs.

  * - SDK_FNS_RESPONSE_MS
    - MILLISECONDS
    - 95th percentile [#f1]_ response time for client SDK function calls.

  * - SDK_MQL_COMPUTE_MS
    - SCALAR_PER_SECOND
    - Total compute time spent in client SDK remote MongoDB access requests.

  * - SDK_MQL_EGRESS_BYTES
    - BYTES_PER_SECOND
    - The amount of data transferred from the server due to client SDK remote
      MongoDB access requests.

  * - SDK_MQL_FAILED_REQUESTS
    - SCALAR_PER_SECOND
    - Total failed client SDK remote MongoDB access requests.

  * - SDK_MQL_RESPONSE_MS
    - MILLISECONDS
    - 95th percentile [#f1]_ client SDK remote MongoDB access response time.

  * - SDK_MQL_SUCCESSFUL_REQUESTS
    - SCALAR_PER_SECOND
    - Total successful client SDK remote MongoDB access requests.

  * - SDK_SUCCESSFUL_REQUESTS
    - SCALAR_PER_SECOND
    - Total successful function call requests from client SDKs.

  * - SYNC_CLIENT_BOOTSTRAP_MS
    - MILLISECONDS
    - 95th percentile [#f1]_ Device Sync client bootstrap time.

  * - SYNC_CLIENT_UPLOADS_INVALID
    - SCALAR_PER_SECOND
    - Device Sync client invalid uploads.

  * - SYNC_CURRENT_OPLOG_LAG_MS_SUM
    - MILLISECONDS
    - The sum of Device Sync oplog lag in milliseconds.

  * - SYNC_EGRESS_BYTES
    - BYTES_PER_SECOND
    - The amount of data transferred from the server for Device Sync.

  * - SYNC_FAILED_REQUESTS
    - SCALAR_PER_SECOND
    - Total failed Device Sync requests.

  * - SYNC_HISTORY_WRITE_MS
    - MILLISECONDS
    - 95th percentile [#f1]_ Device Sync history write time.

  * - SYNC_MINUTES
    - SCALAR_PER_SECOND
    - Minutes spent syncing.

  * - SYNC_NUM_INTEGRATION_ATTEMPTS
    - SCALAR_PER_SECOND
    - Number of Device Sync integration attempts.

  * - SYNC_NUM_UNSYNCABLE_DOC
    - SCALAR
    - Number of unsyncable documents.

  * - SYNC_OT_MS
    - MILLISECONDS
    - 95th percentile [#f1]_ time spent doing operational transform (OT) for
      Device Sync.

  * - SYNC_SESSIONS_ENDED
    - SCALAR_PER_SECOND
    - Total ended Device Sync sessions.

  * - SYNC_SESSIONS_STARTED
    - SCALAR_PER_SECOND
    - Total started Device Sync sessions.

  * - SYNC_SUCCESSFUL_REQUESTS
    - SCALAR_PER_SECOND
    - Total successful Device Sync requests.

  * - SYNC_UPLOAD_PROPS_MS
    - MILLISECONDS
    - 95th percentile [#f1]_ Device Sync upload propagation time.

  * - TRIGGERS_COMPUTE_MS
    - SCALAR_PER_SECOND
    - Compute time spent for Triggers.

  * - TRIGGERS_CURRENT_OPLOG_LAG_MS_SUM
    - MILLISECONDS
    - Sum of Triggers oplog lag.

  * - TRIGGERS_EGRESS_BYTES
    - BYTES_PER_SECOND
    - The amount of data transferred from the server for Triggers.

  * - TRIGGERS_FAILED_REQUESTS
    - SCALAR_PER_SECOND
    - Total failed Triggers requests.

  * - TRIGGERS_RESPONSE_MS
    - MILLISECONDS
    - 95th percentile [#f1]_ Triggers response time.

  * - TRIGGERS_SUCCESSFUL_REQUESTS
    - SCALAR_PER_SECOND
    - Total successful Triggers requests.

.. [#f1] 95th percentile means that the reading for the given metric is below
    the given value 95% of the time.

.. _migrate-hasura:

Migrate GraphQL to Hasura
=========================

.. meta::
  :description: Learn how to migrate your GraphQL host from Atlas App Services to Hasura.

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 2
   :class: singlecol

.. important::

   Always refer to the official documentation of both MongoDB Atlas and `Hasura 
   <https://hasura.io/docs/latest/databases/mongodb/mongodb-atlas/>`_
   for the most up-to-date and accurate information. Specific steps may vary
   depending on the details of your project and the technologies
   used.

`Hasura <https://hasura.io/>`_ empowers developers to rapidly build and deploy
GraphQL and `REST APIs on MongoDB <https://hasura.io/graphql/database/mongodb>`_
and many other data sources. By radically cutting down API development
times, Hasura enables rapid access to data, reduces friction across teams and
services, and enables enterprises to shorten time to market on data-powered
products and features.

Before You Begin
----------------

If you haven't already, Create an account on Hasura's website `cloud.hasura.io 
<https://cloud.hasura.io/signup?utm_source=mongodb&utm_medium=blog&utm_campaign=mongodb_developer_portal>`_.

Migrate to Hasura
-----------------

Migrating your GraphQL API endpoints from MongoDB Atlas App Services to Hasura
involves a multi-step process that encompasses setting up your environment in
Hasura, configuring database connections, migrating schemas, and implementing
authorization and authentication mechanisms. Below is an expanded guide
detailing each step, with a focus on authorization and role-based access control
(RBAC) within Hasura. For more information, check out the `Hasura docs 
<https://hasura.io/docs/latest/databases/mongodb/mongodb-atlas/>`_.

#. Create a New Project in Hasura
#. Authorize Hasura for MongoDB
#. Migrate Schema
#. Test Your GraphQL queries
#. Authorization and Authentication
#. Custom resolvers
#. Update client applications
#. Shut down MongoDB Atlas App Services

Create a New Project in Hasura
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. procedure::
   :style: connected

   .. step::

      After logging in to Hasura, navigate to Projects and create a new project
      by clicking on :guilabel:`New Project`. Select a pricing plan, cloud
      provider, and region that aligns with your MongoDB Atlas setup for optimal
      performance.

      .. image:: /images/migration/new-project.png
         :alt: Hasura projects page

   .. step::

      After creating your project, take note of the Hasura Cloud IP on this page
      as you'll use this in your MongoDB Atlas setup to authorize Hasura for
      MongoDB.

      .. image:: /images/migration/cloud-ip.png
         :alt: Project information page

   .. step::

      Click on :guilabel:`Launch Console` to open up the Hasura Console.

   .. step::

      Click on the :guilabel:`DATA` tab at the top, choose MongoDB from the list
      of various databases that Hasura supports, and click :guilabel:`Connect
      Existing Database`.

      .. image:: /images/migration/connect-database.png
         :alt: Connect database page


Authorize Hasura for MongoDB
~~~~~~~~~~~~~~~~~~~~~~~~~~~~





.. procedure::

















